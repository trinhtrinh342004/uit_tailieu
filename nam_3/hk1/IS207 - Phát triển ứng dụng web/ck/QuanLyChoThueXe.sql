-- Tạo database
CREATE DATABASE QuanLyChoThueXe;
USE QuanLyChoThueXe;

-- Tạo bảng KHACHHANG
CREATE TABLE KHACHHANG (
    MAKH CHAR(10) PRIMARY KEY,
    TENKH VARCHAR(50),
    SDT VARCHAR(15),
    DIACHI VARCHAR(100)
);

-- Tạo bảng XE
CREATE TABLE XE (
    SOXE CHAR(10) PRIMARY KEY,
    TENXE VARCHAR(50),
    HANGXE VARCHAR(50),
    SOCHO INT,
    NAMSX INT,
    DGTHUE DECIMAL(10, 2),
    TINHTRANG BOOLEAN
);

-- Tạo bảng THUE
CREATE TABLE THUE (
    MAT CHAR(10) PRIMARY KEY,
    MAKH CHAR(10),
    SOXE CHAR(10),
    NGAYTHUE DATE,
    NGAYTRA DATE,
    GIATHUE DECIMAL(10, 2),
    FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH),
    FOREIGN KEY (SOXE) REFERENCES XE(SOXE)
);

-- Thêm dữ liệu mẫu vào bảng KHACHHANG
INSERT INTO KHACHHANG (MAKH, TENKH, SDT, DIACHI) VALUES
('KH001', 'Nguyen Van A', '0901234567', 'Hanoi'),
('KH002', 'Tran Thi B', '0912345678', 'Hai Phong'),
('KH003', 'Le Van C', '0923456789', 'Da Nang');

-- Thêm dữ liệu mẫu vào bảng XE
INSERT INTO XE (SOXE, TENXE, HANGXE, SOCHO, NAMSX, DGTHUE, TINHTRANG) VALUES
('51A-12345', 'Toyota Camry', 'Toyota', 5, 2020, 1000000, 1),
('51B-67890', 'Honda Civic', 'Honda', 5, 2021, 900000, 1),
('51C-11223', 'Ford Ranger', 'Ford', 7, 2019, 1200000, 0);

-- Thêm dữ liệu mẫu vào bảng THUE
INSERT INTO THUE (MAT, MAKH, SOXE, NGAYTHUE, NGAYTRA, GIATHUE) VALUES
('T001', 'KH001', '51A-12345', '2025-01-10', '2025-01-15', 5000000),
('T002', 'KH002', '51B-67890', '2025-01-12', '2025-01-14', 1800000),
('T003', 'KH003', '51C-11223', '2025-01-10', '2025-01-16', 7200000);
